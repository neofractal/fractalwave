<!DOCTYPE html><html lang="zh-cn"><head>
	<meta name="generator" content="Hugo 0.119.0">
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  

  <title>
    
      fractal&#39;s sound practice
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="./" />
  
  
  
  <link rel="stylesheet" href="./css/main.css" />
</head>
<script>
  const screenWidth = () => {
    return document.documentElement.clientWidth || document.body.clientWidth;
  }

  const chunkArray = (arr, chunkSize) => {
    const result = [];
    for (let i = 0; i < arr.length; i += chunkSize) {
      result.push(arr.slice(i, i + chunkSize));
    }
    return result;
  }

  const adjustHeightsToMatch = (selector, fn) => {
    var index;
    if (typeof fn === "function") {
      index = fn;
    }
    else {
      index = () => { return fn; };
    }

    const itemsList = document.querySelectorAll(selector);
    const itemsArray = Array.from(itemsList);
    const itemsGroup = chunkArray(itemsArray, index());

    itemsList.forEach(item => {
      item.style.height = "";
    });

    for (let items of itemsGroup) {
      let maxHeight = 0;
      items.forEach(item => {
        const height = item.offsetHeight;
        if (height > maxHeight) {
          maxHeight = height;
        }
      });

      items.forEach(item => {
        item.style.height = `${maxHeight}px`;
      });
    }
  }

  const randomInt = () => {
    return Math.floor(Math.random() * 10000) % 10000;
  }

  const overlap = (el1, el2) => {
    const domRect1 = el1.getBoundingClientRect();
    const domRect2 = el2.getBoundingClientRect();
    return !(
      domRect1.top > domRect2.bottom + gap ||
      domRect1.right < domRect2.left - gap ||
      domRect1.bottom < domRect2.top - gap ||
      domRect1.left > domRect2.right + gap
    );
  }

  const debounce = (fn, delay) => {
    let timer;
    return function () {
      if (timer) {
        clearTimeout(timer);
      }
      timer = setTimeout(() => {
        fn();
      }, delay);
    }
  };
</script>




    

    

    

    

    



<body class="home">
    <header class="header">
        <p class="title">fractal&#39;s sound practice</p><p class="description">fractals.hz@gmail.com</p></header>
    <div class="menu-items"><div class="item">
                <a class="anchor" href="./event/">(3) event∼</a>
            </div><div class="item">
                <a class="anchor" href="./sound-work/">(1) sound work∼</a>
            </div><div class="item">
                <a class="anchor" href="./art-project/">(2) art project∼</a>
            </div><div class="item">
                <a class="anchor" href="./archive/">(4) archive∼</a>
            </div><div class="item">
                <a class="anchor" href="./about/">(5) about∼</a>
            </div></ul>    
</body>

<script>
    var margin = 100,
        gap = 20,
        items = document.getElementsByClassName("item");

    setRandomPosition = (el) => {
        var bodyWidth = document.body.clientWidth,
            bodyHeight = document.body.clientHeight,
            itemWidth = el.getBoundingClientRect().width,
            itemHeight = el.getBoundingClientRect().height,
            contentWidth = bodyWidth - margin * 2 - itemWidth,
            contentHeight = bodyHeight - margin * 2 - itemHeight;

        _top = randomInt() % contentHeight + margin;
        _left = randomInt() % contentWidth + margin;
        el.style.top = _top + "px";
        el.style.left = _left + "px";
    }

    check_overlap = (els, check_el) => {
        for (var el of els)
            if (check_el != el && overlap(check_el, el))
                return true;
        return false;
    }

    randomize = () => {
        let index = 0;
        for (var item of items)
            do
                setRandomPosition(item), index++
            while (index < 1000 && check_overlap(items, item));
    }

    const randomizeDebounce = debounce(randomize, 20);
    window.addEventListener('resize', randomizeDebounce);
    randomize();
</script>

</html>
